### 身份

Linux将身份分为三类owner, group, others, root

owner 身份

* 文件所有者(默认为文件的创建者)

group 身份

* 与文件所有者同一个组

others 身份

* 其他人

### 权限

Linux将权限分文三类read, write, execute

read 权限

* 目录: 能否查看目录所包含的文件
* 文件: 能否查看文件内容

write 权限

* 目录: 能否创建, 删除, 复制, 移动文件
* 文件: 能否编辑文件

execute 权限

* 目录: 能否进入目录

* 文件: 能否执行脚本/二进制文件

### 查看文件权限

`ls -l`

```
-		   rwx        r--        ---
文件类型	所有者权限	所有组权限	其他用户权限
```

### chmod

说明: 修改文件权限, 只有所有者和root可以执行

语法: 

* `chomod [选项] [参数] 文件`

选项

* `-R` 递归设置权限

参数

* `{a|u|g|o}(+|-|=){r|w|x}` 可以用**逗号**分隔多个参数
* `777` 分别是所有者,所有组,其他的权限的加值
  * 1 执行
  * 2 写
  * 4 读
* `s` SGID或SUID
* `t` SBIT

### chown

说明

* 修改文件属主, 可以同时修改属主和属组也可以单独修改

* 只有所有者和root可以执行

语法: `chown [选项] [user][:group]`

* `-R` 递归修改

### chgrp

说明: 修改文件属组

语法: `chgrp [选项] group`

* `-R` 递归修改



## 特殊权限

### SUID

### SGID

功能一: 对于可执行文件来说, 设置了SGID则执行该文件时可以获得文件所属用户组的权限

功能二: 对于目录来说, 设置了SGID则在该目录下创建的文件的所属组会自动被设置为目录的所属组

### SBIT

对某个目录设置了SBIT则在该目录中用户只能删除属于自己的文件

## 隐藏权限

### chattr

语法: `chattr (+|-)参数 文件`

* `i` 无法对文件进行修改;若对目录设置了该参数,则仅能修改其中的子文件内容而不能新建或删除文件
* `a` 仅允许补充(追加)内容,无法覆盖/删除内容(Append Only)
* `s` 彻底从硬盘中删除,不可恢复(用 0 填充原文件所在硬盘区域)
* `u` 当删除该文件后依然保留其在硬盘中的数据,方便日后恢复

### lsattr

说明: 用于查看文件的隐藏权限

## ACL

如果针对某个目录设置了 ACL,则目录中的文件会继承其 ACL;若针对文件设置了 ACL,则文件不再继承其所在目录的 ACL

使用`ls -l` 可以看到结尾有个`+`

### setfacl

说明: 设置文件的ACL

语法: `setfacl [参数] (u|g):(用户名|组名):权限 文件名称`

* `-R` 针对目录
* `-m` 针对文件
* `-b` 删除某个文件的ACL

### getfacl

说明: 查看文件的ACL

语法: `getfacl 文件名称`