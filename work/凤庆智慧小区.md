# 凤庆智慧小区

## API

### 用户

####  ok 获取token

`get_token: "/user/login"`

```js
request = {
    code
}

response = {
    token
}
```

#### ok 获取小区列表

`get_village_list: "/village/getVillageList"`

```js
response = [
    {
        hood_id,
        hood_name: '小区名'
    }
]
```

#### 上传用户信息

`save_user_info: "/user/saveUserInfo"`

```js
reqest = {
    token,
    "village_name":"社区名",
    "community_name":"小区名",
    "address":"地址",
    "type": "身份 0|1|2",
    "s_name":"名字",
    "s_sex":"性别",
    "s_id_card":"身份证",
    "s_phone":"电话",
    "phone_code":"验证码",
    "village_id":"社区id",
    "community_id":"小区id"
}
```

#### 更新用户信息

```js
reqest = {
    token,
    face_url: "照片",
    name: '姓名',
    gender: "性别",
    id_card: '身份证',
    phone: '电话',
    phone_code :"验证码",
}
```

#### ok 上传用户微信信息

`save_user_wc_info: "/user/saveUserInfo"`

```js
request = {
    avatar: '头像',
    nickname: '昵称'
}
```

#### ok 获取用户信息

`get_my_info: "/user/getUserInfo"`

```js
request = {
    token
}
response = {
    img: '用户照片',
    hood_id: '小区id',
    name: '姓名',
    id_card: '身份证',
    phone: '电话',
    avatar: '头像',
    nickname: '昵称'
}
```

### 招聘

#### 提交简历

```js
request = {
    "name":"姓名",
    "gender":"性别",
    "birth":"生日",
    "race":"民族",
    "politic":"政治面貌",
    "education":"学历",
    "school":"学校",
    "specialty":"特长",
    "address":"地址",
    "phone":"电话",
    "phoneCode":"验证码",
    "pics":"照片;",
    "desc":"特长",
    "exp":"工作实习经历",
    "certification":"资质证书",
    "other":"其他"
}
```

#### 获取简历

`get_recive_resume: "/work/receive_resume"`

```js
request = {
    token
}

response = {
    "name":"姓名",
    "gender":"性别",
    "birth":"生日",
    "race":"民族",
    "politic":"政治面貌",
    "education":"学历",
    "school":"学校",
    "specialty":"特长",
    "address":"地址",
    "phone":"电话",
    "phoneCode":"验证码",
    "pics":"照片;",
    "desc":"特长",
    "exp":"工作实习经历",
    "certification":"资质证书",
    "other":"其他"
}
```

#### 职位列表

`get_work_list: "/work/work_list"`

```js
response = {
    id,
    type: "全职|兼职|钟点工|日结",
	company_id,
	job_name,
	salary,
	age:"年龄要求",
	num:"招聘人数",
	xueli,
	add_time,
	read_num,
	company,
	address,
	recruiter_name:"联系人"
	phone,
}
```

#### 职位详情

`/work/work_detail`

```js
code: 10009
data: null
msg: "参数错误"
```

### ok 首页

```js
response = {
    banner_list: [ // 5条
        {
            title: '标题',
            img: '图片',
            time: '时间',
            id: '新闻id'
        }
        ...
    ],
    news_list: [ // 2条
        {
            title: '标题',
            time: '时间',
            id: '新闻id'
        }
        ...
    ]
}
```

#### 宣传视频

```js
response = {
    video_url
}
```

### 物业

#### ok 小区新闻列表

```js
request = {
    token,
    page: "每页10条"
}
response = {
    title,
    content: '普通文本',
    read: '点击量',
    time: '发布时间',
    img: '封面',
    id
}
```

#### ok 小区新闻详情

```js
request = {
    id
}
response = {
    title,
    content: '富文本',
    read: '点击量',
    time: '发布时间',
    pic_list: '图片',
    id
}
```

#### 物业报事

```js
request = {
    token,
    content,
    pics,
    name,
    phone
}
```

### 使用反馈

```js
request = {
    token,
    content,
    phone
}
```

### ok 其它

#### ok 获取验证码

```js
request = {
    phone
}

response = {
    verify_code
}
```

### ok 新闻公告

#### ok 列表

```js
response = [
    {
        title,
        content: '普通文本',
        read: '点击量',
        time,
        img: '封面',
        id
    }
]
```

#### ok 详情

```js
request = {
    id
}
response = {
    title,
    content: '普通文本',
    read: '点击量',
    time,
   	id
}
```

### 车辆登记

```js
request = {
    token,
    car_id: '车牌号'
    pics: '行车证照片'
}
```

### 小区

#### 添加小区

```js
request = {
    address: '详细住址'
    type: "住户类型", 
    s_phone: "联系电话"
    phone_code: "验证码",
    village_id: "社区id",
    community_id: "小区id"
}
```

#### 小区列表

`get_my_room: "/village/getMyRoom"`

```js
response = [
    {
        name: '小区名',
        id,
        status: '审核中|不通过|已绑定',
        current: 'true|false', // 是否为当前选中小区
        info: [
            {
                title: '车辆登记',
                list: [
                    car_id: '车牌号',
                    ...
                ]
            },
            {
                title: '门禁指纹绑定',
                status: 'true|false'
            },
            {
                title: '人脸认证',
                status: 'true|false'
            },
            {
                title: '门禁卡绑定',
                status: 'true|false'
            }
        ]
    }
]
// 慧民居获取社区列表: https://wll.lcwmkj.cn/village/getMyRoom?token=b2U4VDI1ZmRMMnlsQ3VKVE1sWDVQRXk3QVM2Y2xjemhzcXRhb2tlbjg4ODg4
```

#### 切换小区

```js
request = {
    token,
    id
}
```

### 一键开门

#### 列表

```js
request = {
    token
}
response = [
    {
        title: '门',
        id
    }
]
```

#### 开门

```js
request = {
    token,
    id
}
```

### 居民服务

#### 居民服务列表

```js
response = [
    {
        title: '标题',
        icon: '图标',
        appid: '要跳转的小程序appid'
    },
    ...
]
```

## fixing

- [ ] /work/resume 去掉是否公开电话字段
- [ ] 

## 其他

### 后台

[论坛招聘租房后台](https://fengqing.lcwmkj.cn/Forum/Index/index.html)

* account: admin
* password: 12344321

[总后台](https://fqadmin.lcwmkj.cn/Admin/system.html)

* account: admin
* passwrod: lczhcs123456.
